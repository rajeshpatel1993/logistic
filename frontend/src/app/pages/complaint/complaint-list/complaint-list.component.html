<div class="AssignVehicle">
  <nb-card>
    <nb-card-body>
      <div class="row no-gutters">
        <div class="col-sm-6">
          <h5 class="pb-3">Complaint/Issue report</h5>
        </div>
        <div class="col-sm-6 text-right">
          <a class="btn btn-primary" href="javascript:void(0)" routerLink="/pages/complaint/add-issue">Add Issue</a>
        </div>
      </div>
      <nb-layout-column class="p-0">
        <div class="table-responsive">
          <table class="table table-hover mt-3">
            <thead>
              <tr>
                <th>Vehicle</th>
                <th>Issue</th>
                <th>Status</th>
                <th>Priority</th>
                <th>Employee Assign To</th>
                <th>Employee Reported To</th>

                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of complainDataList">
                <ng-template #dialog let-data let-ref="dialogRef">
                  <nb-card class="popupImage">
                    <nb-card-body>
                      <img src="{{item.vehicleData[0].vehicleImage}}" alt=" ">
                      <button nbButton class="popupClose" (click)="ref.close()"><i
                          class="fas fa-times-circle"></i></button>
                    </nb-card-body>

                  </nb-card>
                </ng-template>
                <td>
                  <div class="VehicleDetail">
                    <div class="VehicleDetail_image">
                      <img nbButton (click)="open(dialog)" src="{{item.vehicleData[0].vehicleImage}}" width="80">
                    </div>
                    <div class="VehicleDetail_name">
                      <h5>Name:- {{item.vehicleData[0].name}}</h5>
                      <p>Reg no:- {{item.vehicleData[0].regNo}}</p>
                    </div>
                  </div>
                </td>

                <td>
                  {{item.description}}
                </td>

                <td>

                  {{item.issueStatusData[0].vehicleIssueStatus}}
                </td>

                <td>
                  <span [style.color]="item.priorityData[0].priorityColor">{{item.priorityData[0].priorityStatus}}</span>
                </td>

                <td>

                  <div>
                    <img [src]="item.employeedataAssignTo[0].empImage" width="200">
                    <span> {{item.employeedataAssignTo[0].firstName}}</span>
                  </div>

                </td>



                <td>

                  <div>
                    <img [src]="item.employeedataReported[0].empImage" width="200">
                    <span> {{item.employeedataReported[0].firstName}}</span>
                  </div>

                </td>


                <td>
                  <button class="btn btn-default p-0" (click)="deleteIssue(item._id)">
                    <i class="fas fa-trash-alt text-danger"></i></button> | <button class="btn btn-default p-0"
                    (click)="editIssues(item._id)"><i class="fas fa-edit text-primary"></i></button>

                </td>
              </tr>

            </tbody>
          </table>
        </div>
        <div class="card-footer pb-0 pt-3 pb-3">
          <!-- <ul *ngIf="
          ['pages'] && pager['pages'].length" class="pagination justify-content-center">
            <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
              <a [routerLink]="['/pages/notes/list']" [queryParams]="{page: 1}" class="page-link"><i
                  class="fas fa-angle-double-left"></i></a>
            </li>
            <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
              <a [routerLink]="['/pages/notes/list']" [queryParams]="{ page: pager.currentPage - 1 }"
                class="page-link"><i class="fas fa-angle-left"></i></a>
            </li>
            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
              class="page-item number-item">
              <a [routerLink]="['/pages/notes/list']" [queryParams]="{ page: page }"
                class="page-link">{{page}}</a>
            </li>
            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
              <a [routerLink]="['/pages/notes/list']" [queryParams]="{ page: pager.currentPage + 1 }"
                class="page-link"><i class="fas fa-angle-right"></i></a>
            </li>
            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
              <a [routerLink]="['/pages/notes/list']" [queryParams]="{ page: pager.totalPages }"
                class="page-link"><i class="fas fa-angle-double-right"></i></a>
            </li>
          </ul> -->
        </div>

      </nb-layout-column>
    </nb-card-body>

    <div class="row" *ngIf="showNoRecord">
      <div class="col-12">
        <h5 class="text-center text-danger p-4"> No records Found</h5>
      </div>
    </div>

  </nb-card>
</div>