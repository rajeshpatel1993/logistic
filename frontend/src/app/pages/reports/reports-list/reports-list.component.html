<div class="Reports">
  <nb-card>
    <nb-card-body>
      <div class="row no-gutters">
        <div class="col-6">
          <h5 class="pb-3"> Reports</h5>
        </div>

        <div class="col-sm-4">
          <input nbInput placeholder="Date Range Filters" [nbDatepicker]="formpicker" class="form-control">
          <nb-rangepicker #formpicker></nb-rangepicker>
        </div>
        <div class="col-2 text-right">
          <nb-select placeholder="Select Showcase" [(selected)]="selectedItem">
            <nb-option value="" disabled>Export</nb-option>
            <nb-option value="0">PDF</nb-option>
            <nb-option value="1">CSV/Excel</nb-option>
          </nb-select>
        </div>
      </div>

      <form class="formbg-light">
        <div class="form-row">
          <div class="col-xs-12 col-sm-3">
            <div class="ng-autocomplete">
              <ng-autocomplete [data]="vehicleTypes" [searchKeyword]="keyword" placeHolder="Enter vehicle code"
                (selected)='selectEvent($event, "vehicletype")' (inputChanged)='onChangeSearch($event)'
                (inputFocused)='onFocused($event)' historyIdentifier="vehicleTypes" [itemTemplate]="itemTemplate"
                [notFoundTemplate]="notFoundTemplate">
              </ng-autocomplete>

              <ng-template #itemTemplate let-item>
                <a [innerHTML]="item.name"></a>
              </ng-template>

              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>
            </div>
          </div>
          <div class="col-xs-12 col-sm-3">
            <div class="ng-autocomplete">
              <ng-autocomplete [data]="vehicleDetails" [searchKeyword]="keyword" placeHolder="Enter reg noâ€™s"
                (selected)='selectEvent($event, "vehicledetails")' (inputChanged)='onChangeSearch($event)'
                (inputFocused)='onFocused($event)' historyIdentifier="vehicleDetails" [itemTemplate]="itemTemplate1"
                [notFoundTemplate]="notFoundTemplate1">
              </ng-autocomplete>

              <ng-template #itemTemplate1 let-item>
                <a [innerHTML]="item.name"></a>
              </ng-template>

              <ng-template #notFoundTemplate1 let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>
            </div>

          </div>
          <div class="col-xs-12 col-sm-3">
            <div class="ng-autocomplete">
              <ng-autocomplete [data]="vehicleRegistrations" [searchKeyword]="keyword" placeHolder="Enter driver name "
                (selected)='selectEvent($event, "vehiclereg")' (inputChanged)='onChangeSearch($event)'
                (inputFocused)='onFocused($event)' historyIdentifier="vehicleRegistrations"
                [itemTemplate]="itemTemplate2" [notFoundTemplate]="notFoundTemplate2">
              </ng-autocomplete>

              <ng-template #itemTemplate2 let-item>
                <a [innerHTML]="item.name"></a>
              </ng-template>

              <ng-template #notFoundTemplate2 let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>
            </div>
          </div>
          <div class="col-xs-12 col-sm-3">
            <button type="button" nbButton status="Filter" (click)="filterData()" class="btn btn-primary ml-2 mr-2"><i
                class="fas fa-search"></i> Search</button>
          </div>
        </div>
      </form>
      <nb-layout-column class="p-0">
        <nb-card class="p-0">
          <nb-card-body class="p-1">

            <nb-tabset>
              <nb-tab tabTitle="Vehicle" class="p-0">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Vehicle</th>
                        <th>Driver </th>
                        <th>Location</th>
                        <th>Type </th>
                        <th>Status</th>
                        <th>Reg/Serial no's</th>
                        <th>Current issue date</th>
                        <th>Fuel consumption </th>
                        <th>Previous service date</th>
                        <th>Service due </th>
                        <th>Road tax due </th>
                        <th>Insurance due </th>
                        <th>Driver License due </th>
                        <th>Overall expense </th>
                        <th>Recent expense </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of vehiclesList">
                        <td>
                          <ng-template #dialog let-data let-ref="dialogRef">
                            <nb-card class="popupImage">
                              <nb-card-body>
                                <img src="{{item.vehicle.vehicleImage}}" alt=" ">
                                <button nbButton class="popupClose" (click)="ref.close()"><i
                                    class="fas fa-times-circle"></i></button>
                              </nb-card-body>

                            </nb-card>
                          </ng-template>
                          <div class="VehicleDetail">
                            <div class="VehicleDetail_image">
                              <img nbButton (click)="open(dialog)" src="{{item.vehicle.vehicleImage}}" width="80">
                            </div>
                            <div class="VehicleDetail_name">
                              <h5>{{item.vehicle.name}}</h5>
                            </div>
                          </div>
                        </td>
                        <td>
                          Driver
                        </td>
                        <td>
                          Location
                        </td>
                        <td>
                          Sedan
                          <h6>Reg: sm343412d</h6>
                        </td>
                        <td>
                          <div class="workStatus">
                            <span class="success">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <!-- <span class="pendingy">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <span class="pending">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <span class="danger">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span> -->
                          </div>
                        </td>
                        <td>
                          Reg/Serial no's
                        </td>
                        <td>Current issue date</td>
                        <td>.Fuel consumption </td>
                        <td>.Previous service date</td>
                        <td>Service due </td>
                        <td>Road tax due </td>
                        <td>Insurance due </td>
                        <td>Driver License due </td>
                        <td>.Overall expense </td>
                        <td>.Recent expense </td>
                      </tr>

                    </tbody>
                  </table>
                </div>
                <div class="card-footer pb-0 pt-3 pb-3">
                  <ul *ngIf="pager['pages'] && pager['pages'].length" class="pagination justify-content-center">
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{page: 1}"
                        class="page-link"><i class="fas fa-angle-double-left"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage - 1 }" class="page-link"><i
                          class="fas fa-angle-left"></i></a>
                    </li>
                    <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
                      class="page-item number-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: page }"
                        class="page-link">{{page}}</a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage + 1 }" class="page-link"><i
                          class="fas fa-angle-right"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: pager.totalPages }"
                        class="page-link"><i class="fas fa-angle-double-right"></i></a>
                    </li>
                    <li>
                      <nb-select placeholder="Select Showcase" [(selected)]="selectedPage">
                        <nb-option value="" disabled>10</nb-option>
                        <nb-option value="0">50</nb-option>
                        <nb-option value="1">100</nb-option>
                      </nb-select>
                    </li>
                  </ul>

                </div>
              </nb-tab>
              <nb-tab tabTitle="Assign Vehicle" class="p-1">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Vehicle</th>
                        <th>Driver </th>
                        <th>Location</th>
                        <th>Type </th>
                        <th>Status</th>
                        <th>Reg/Serial no's</th>
                        <th>Current issue date</th>
                        <th>Fuel consumption </th>
                        <th>Previous service date</th>
                        <th>Service due </th>
                        <th>Road tax due </th>
                        <th>Insurance due </th>
                        <th>Driver License due </th>
                        <th>Overall expense </th>
                        <th>Recent expense </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of vehiclesList">
                        <td>
                          <ng-template #dialog let-data let-ref="dialogRef">
                            <nb-card class="popupImage">
                              <nb-card-body>
                                <img src="{{item.vehicle.vehicleImage}}" alt=" ">
                                <button nbButton class="popupClose" (click)="ref.close()"><i
                                    class="fas fa-times-circle"></i></button>
                              </nb-card-body>

                            </nb-card>
                          </ng-template>
                          <div class="VehicleDetail">
                            <div class="VehicleDetail_image">
                              <img nbButton (click)="open(dialog)" src="{{item.vehicle.vehicleImage}}" width="80">
                            </div>
                            <div class="VehicleDetail_name">
                              <h5>{{item.vehicle.name}}</h5>
                            </div>
                          </div>
                        </td>
                        <td>
                          Driver
                        </td>
                        <td>
                          Location
                        </td>
                        <td>
                          Sedan
                          <h6>Reg: sm343412d</h6>
                        </td>
                        <td>
                          <div class="workStatus">
                            <span class="success">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <!-- <span class="pendingy">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <span class="pending">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span>
                            <span class="danger">
                              <div class="toolTip">
                                <p>26-Jan-2020</p>
                              </div>
                            </span> -->
                          </div>
                        </td>
                        <td>
                          Reg/Serial no's
                        </td>
                        <td>Current issue date</td>
                        <td>.Fuel consumption </td>
                        <td>.Previous service date</td>
                        <td>Service due </td>
                        <td>Road tax due </td>
                        <td>Insurance due </td>
                        <td>Driver License due </td>
                        <td>.Overall expense </td>
                        <td>.Recent expense </td>
                      </tr>

                    </tbody>
                  </table>
                </div>
                <div class="card-footer pb-0 pt-3 pb-3">
                  <ul *ngIf="pager['pages'] && pager['pages'].length" class="pagination justify-content-center">
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{page: 1}"
                        class="page-link"><i class="fas fa-angle-double-left"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage - 1 }" class="page-link"><i
                          class="fas fa-angle-left"></i></a>
                    </li>
                    <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
                      class="page-item number-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: page }"
                        class="page-link">{{page}}</a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage + 1 }" class="page-link"><i
                          class="fas fa-angle-right"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: pager.totalPages }"
                        class="page-link"><i class="fas fa-angle-double-right"></i></a>
                    </li>
                    <li>
                      <nb-select placeholder="Select Showcase" [(selected)]="selectedPage">
                        <nb-option value="" disabled>10</nb-option>
                        <nb-option value="0">50</nb-option>
                        <nb-option value="1">100</nb-option>
                      </nb-select>
                    </li>
                  </ul>

                </div>
              </nb-tab>
              <nb-tab tabTitle="Service Management" class="p-1">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Vehicle</th>
                        <th>Date </th>
                        <th>Details</th>
                        <th>Vendor </th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of vehiclesList">
                        <td>
                          <ng-template #dialog let-data let-ref="dialogRef">
                            <nb-card class="popupImage">
                              <nb-card-body>
                                <img src="{{item.vehicle.vehicleImage}}" alt=" ">
                                <button nbButton class="popupClose" (click)="ref.close()"><i
                                    class="fas fa-times-circle"></i></button>
                              </nb-card-body>

                            </nb-card>
                          </ng-template>
                          <div class="VehicleDetail">
                            <div class="VehicleDetail_image">
                              <img nbButton (click)="open(dialog)" src="{{item.vehicle.vehicleImage}}" width="80">
                            </div>
                            <div class="VehicleDetail_name">
                              <h5>{{item.vehicle.name}}</h5>
                              <h6><b>Code:</b> {{item.vehicle.vehicle_code}}</h6>
                              <p><b>Reg/Ser No.:</b> {{item.vehicle.regNo}}</p>
                            </div>
                          </div>
                        </td>
                        <td>
                          {{item.expense_date}}
                        </td>
                        <td>
                          {{item.details}}
                        </td>
                        <td>
                          {{item.vendor}}
                        </td>
                        <td>
                          {{item.amount}}
                        </td>
                      </tr>

                    </tbody>
                  </table>
                </div>
                <div class="card-footer pb-0 pt-3 pb-3">
                  <ul *ngIf="pager['pages'] && pager['pages'].length" class="pagination justify-content-center">
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{page: 1}"
                        class="page-link"><i class="fas fa-angle-double-left"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage - 1 }" class="page-link"><i
                          class="fas fa-angle-left"></i></a>
                    </li>
                    <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
                      class="page-item number-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: page }"
                        class="page-link">{{page}}</a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage + 1 }" class="page-link"><i
                          class="fas fa-angle-right"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: pager.totalPages }"
                        class="page-link"><i class="fas fa-angle-double-right"></i></a>
                    </li>
                    <li>
                      <nb-select placeholder="Select Showcase" [(selected)]="selectedPage">
                        <nb-option value="" disabled>10</nb-option>
                        <nb-option value="0">50</nb-option>
                        <nb-option value="1">100</nb-option>
                      </nb-select>
                    </li>
                  </ul>

                </div>
              </nb-tab>
              <nb-tab tabTitle="Expense" class="p-1" disabled>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Vehicle</th>
                        <th>Date </th>
                        <th>Details</th>
                        <th>Vendor </th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of vehiclesList">
                        <td>
                          <ng-template #dialog let-data let-ref="dialogRef">
                            <nb-card class="popupImage">
                              <nb-card-body>
                                <img src="{{item.vehicle.vehicleImage}}" alt=" ">
                                <button nbButton class="popupClose" (click)="ref.close()"><i
                                    class="fas fa-times-circle"></i></button>
                              </nb-card-body>

                            </nb-card>
                          </ng-template>
                          <div class="VehicleDetail">
                            <div class="VehicleDetail_image">
                              <img nbButton (click)="open(dialog)" src="{{item.vehicle.vehicleImage}}" width="80">
                            </div>
                            <div class="VehicleDetail_name">
                              <h5>{{item.vehicle.name}}</h5>
                              <h6><b>Code:</b> {{item.vehicle.vehicle_code}}</h6>
                              <p><b>Reg/Ser No.:</b> {{item.vehicle.regNo}}</p>
                            </div>
                          </div>
                        </td>
                        <td>
                          {{item.expense_date}}
                        </td>
                        <td>
                          {{item.details}}
                        </td>
                        <td>
                          {{item.vendor}}
                        </td>
                        <td>
                          {{item.amount}}
                        </td>
                      </tr>

                    </tbody>
                  </table>
                </div>
                <div class="card-footer pb-0 pt-3 pb-3">
                  <ul *ngIf="pager['pages'] && pager['pages'].length" class="pagination justify-content-center">
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{page: 1}"
                        class="page-link"><i class="fas fa-angle-double-left"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage - 1 }" class="page-link"><i
                          class="fas fa-angle-left"></i></a>
                    </li>
                    <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
                      class="page-item number-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: page }"
                        class="page-link">{{page}}</a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']"
                        [queryParams]="{ page: pager.currentPage + 1 }" class="page-link"><i
                          class="fas fa-angle-right"></i></a>
                    </li>
                    <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                      <a [routerLink]="['/pages/vehicles/assign-vehicles']" [queryParams]="{ page: pager.totalPages }"
                        class="page-link"><i class="fas fa-angle-double-right"></i></a>
                    </li>
                    <li>
                      <nb-select placeholder="Select Showcase" [(selected)]="selectedPage">
                        <nb-option value="" disabled>10</nb-option>
                        <nb-option value="0">50</nb-option>
                        <nb-option value="1">100</nb-option>
                      </nb-select>
                    </li>
                  </ul>

                </div>
              </nb-tab>
              <nb-tab tabTitle="Vehicle Expiration Remainder " class="p-1" disabled>
                <p>List of <strong>transactions</strong>.</p>
              </nb-tab>
              <nb-tab tabTitle="Service Remainder " class="p-1" disabled>
                <p>List of <strong>transactions</strong>.</p>
              </nb-tab>
              <nb-tab tabTitle="Fuel management" class="p-1" disabled>
                <p>List of <strong>transactions</strong>.</p>
              </nb-tab>
              <nb-tab tabTitle="Complaint/Issue" class="p-1" disabled>
                <p>List of <strong>transactions</strong>.</p>
              </nb-tab>
              <nb-tab tabTitle="Contact details " class="p-1" disabled>
                <p>List of <strong>transactions</strong>.</p>
              </nb-tab>
            </nb-tabset>

          </nb-card-body>
        </nb-card>


      </nb-layout-column>
    </nb-card-body>
  </nb-card>
</div>