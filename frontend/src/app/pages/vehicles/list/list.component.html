<div class="Vehicle">
  <nb-card>
    <nb-card-body>
      <nb-tabset>
        <nb-tab tabTitle=" Vehicle List">
          <div class="row no-gutters">
            <div class="col-sm-6">
              <h6>Vehicle List</h6>
            </div>
            <div class="col-sm-6 text-right">
              <!-- <a class="btn btn-secondary mr-2 DropDown" (click)="toggleAtion()" href="javascript:void(0)"><i
                  class="fas fa-ellipsis-v"></i> Action <span class="caret"></span>
                <div *ngIf="dropDownAction" class="DropDown_Action">
                  <a class="nav-item">Action</a>
                  <a class="nav-item">Action</a>
                  <a class="nav-item">Action</a>
                </div>
              </a> -->
              <a class="btn btn-primary" href="javascript:void(0)" routerLink="/pages/vehicles/add-vehicle">Add
                Vehicle</a>
            </div>
          </div>
          <form class="formbg-light">
            <div class="form-row">
              <div class="col-auto">
                <div class="ng-autocomplete">
                  <ng-autocomplete [data]="vehicleTypes" [searchKeyword]="keyword" placeHolder="Enter the Vehicle Types"
                    (selected)='selectEvent($event, "vehicletype")' (inputChanged)='onChangeSearch($event)'
                    (inputFocused)='onFocused($event)' historyIdentifier="vehicleTypes" [itemTemplate]="itemTemplate"
                    [notFoundTemplate]="notFoundTemplate">
                  </ng-autocomplete>

                  <ng-template #itemTemplate let-item>
                    <a [innerHTML]="item.name"></a>
                  </ng-template>

                  <ng-template #notFoundTemplate let-notFound>
                    <div [innerHTML]="notFound"></div>
                  </ng-template>
                </div>
              </div>
              <div class="col-auto">
                <div class="ng-autocomplete">
                  <ng-autocomplete [data]="vehicleDetails" [searchKeyword]="keyword"
                    placeHolder="Enter the Vehicle Details" (selected)='selectEvent($event, "vehicledetails")'
                    (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)'
                    historyIdentifier="vehicleDetails" [itemTemplate]="itemTemplate1"
                    [notFoundTemplate]="notFoundTemplate1">
                  </ng-autocomplete>

                  <ng-template #itemTemplate1 let-item>
                    <a [innerHTML]="item.name"></a>
                  </ng-template>

                  <ng-template #notFoundTemplate1 let-notFound>
                    <div [innerHTML]="notFound"></div>
                  </ng-template>
                </div>

              </div>
              <div class="col-auto">
                <div class="ng-autocomplete">
                  <ng-autocomplete [data]="vehicleRegistrations" [searchKeyword]="keyword"
                    placeHolder="Enter the Vehicle Registration" (selected)='selectEvent($event, "vehiclereg")'
                    (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)'
                    historyIdentifier="vehicleRegistrations" [itemTemplate]="itemTemplate2"
                    [notFoundTemplate]="notFoundTemplate2">
                  </ng-autocomplete>

                  <ng-template #itemTemplate2 let-item>
                    <a [innerHTML]="item.name"></a>
                  </ng-template>

                  <ng-template #notFoundTemplate2 let-notFound>
                    <div [innerHTML]="notFound"></div>
                  </ng-template>
                </div>
              </div>
              <button type="button" nbButton status="Filter" (click)="filterData()" class="btn btn-primary ml-2 mr-2"><i
                  class="fas fa-search"></i> Search</button>
            </div>
          </form>
          <nb-layout-column class="p-0">

            <table class="table table-hover mt-4">
              <thead>
                <tr>

                  <th scope="col">Name</th>
                  <th scope="col">Type</th>
                  <th scope="col">Status</th>
                  <th scope="col">Insurance Expiry</th>
                  <th scope="col">Road Tax</th>
                  <th scope="col">Warranty</th>
                  <th scope="col">Work Location</th>
                  <th scope="col">Unasigned</th>
                  <th scope="col">Remainders</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of vehiclesList">
                  <td>
                    <div class="VehicleDetail">
                      <div class="VehicleDetail_image">
                        <img src="{{item.vehicleImage}}" width="48">
                      </div>
                      <div class="VehicleDetail_name">
                        <h5>{{item.name}}</h5>
                        <p>{{item.regNo}}</p>
                      </div>
                    </div>
                    <!-- <div class="VehicleType">
                      <h6><b>R/S No.</b>: fhiqf</h6>
                      <h6><b>Type</b>: 6r23</h6>
                    </div> -->
                  </td>
                  <td>
                    <!-- <h5>Car</h5> -->
                    <p>{{item.vehicleDetailsArray[0].vehicleDetails}}</p>
                  </td>
                  <td>{{item.vehicleStatusArray[0].vehicleStatus}}</td>
                  <td>{{item.insuranceValid}}</td>
                  <td>{{item.roadTaxValid}}</td>
                  <td>{{item.warrantyPeriod}}</td>
                  <td>{{item.workLocationArray[0].workLocation}}</td>

                  <td>Unassigne</td>
                  <td>Yes</td>
                </tr>
              </tbody>
            </table>

            <div class="card-footer pb-0 pt-3 pb-3">
              <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                  <a [routerLink]="['/pages/vehicles/list']" [queryParams]="{page: 1}" class="page-link">First</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                  <a [routerLink]="['/pages/vehicles/list']" [queryParams]="{ page: pager.currentPage - 1 }"
                    class="page-link">Previous</a>
                </li>
                <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"
                  class="page-item number-item">
                  <a [routerLink]="['/pages/vehicles/list']" [queryParams]="{ page: page }"
                    class="page-link">{{page}}</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                  <a [routerLink]="['/pages/vehicles/list']" [queryParams]="{ page: pager.currentPage + 1 }"
                    class="page-link">Next</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                  <a [routerLink]="['/pages/vehicles/list']" [queryParams]="{ page: pager.totalPages }"
                    class="page-link">Last</a>
                </li>
              </ul>
            </div>

          </nb-layout-column>
        </nb-tab>
        <nb-tab tabTitle="Assign vehicle">
          <p><strong>Assign Vehicle</strong></p>
        </nb-tab>
      </nb-tabset>

    </nb-card-body>
  </nb-card>

</div>